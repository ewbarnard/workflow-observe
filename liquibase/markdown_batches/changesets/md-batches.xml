<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd">

    <changeSet author="ewbarnard" id="md-batches-aa">
        <preConditions onFail="HALT">
            <not>
                <tableExists tableName="dim_directories"/>
            </not>
        </preConditions>
        <sqlFile dbms="mysql"
                 encoding="UTF-8"
                 endDelimiter=";"
                 path="../sql/tables/dim_directories_00.sql"
                 relativeToChangelogFile="true"
                 splitStatements="true"
                 stripComments="true"/>
        <rollback>DROP TABLE IF EXISTS `dim_directories`;</rollback>
    </changeSet>

    <changeSet author="ewbarnard" id="md-batches-ab">
        <preConditions onFail="HALT">
            <not>
                <tableExists tableName="dim_search_paths"/>
            </not>
        </preConditions>
        <sqlFile dbms="mysql"
                 encoding="UTF-8"
                 endDelimiter=";"
                 path="../sql/tables/dim_search_paths_00.sql"
                 relativeToChangelogFile="true"
                 splitStatements="true"
                 stripComments="true"/>
        <rollback>DROP TABLE IF EXISTS `dim_search_paths`;</rollback>
    </changeSet>

    <changeSet author="ewbarnard" id="md-batches-ac">
        <preConditions onFail="HALT">
            <not>
                <tableExists tableName="dim_dates"/>
            </not>
        </preConditions>
        <sqlFile dbms="mysql"
                 encoding="UTF-8"
                 endDelimiter=";"
                 path="../sql/tables/dim_dates_00.sql"
                 relativeToChangelogFile="true"
                 splitStatements="true"
                 stripComments="true"/>
        <rollback>DROP TABLE IF EXISTS `dim_dates`;</rollback>
    </changeSet>

    <changeSet author="ewbarnard" id="md-batches-ad">
        <preConditions onFail="HALT">
            <not>
                <tableExists tableName="fact_markdown_files"/>
            </not>
        </preConditions>
        <sqlFile dbms="mysql"
                 encoding="UTF-8"
                 endDelimiter=";"
                 path="../sql/tables/fact_markdown_files_00.sql"
                 relativeToChangelogFile="true"
                 splitStatements="true"
                 stripComments="true"/>
        <rollback>DROP TABLE IF EXISTS `fact_markdown_files`;</rollback>
    </changeSet>

    <changeSet author="ewbarnard" id="md-batches-ae">
        <preConditions onFail="HALT">
            <not>
                <tableExists tableName="fact_batches"/>
            </not>
        </preConditions>
        <sqlFile dbms="mysql"
                 encoding="UTF-8"
                 endDelimiter=";"
                 path="../sql/tables/fact_batches_00.sql"
                 relativeToChangelogFile="true"
                 splitStatements="true"
                 stripComments="true"/>
        <rollback>DROP TABLE IF EXISTS `fact_batches`;</rollback>
    </changeSet>

</databaseChangeLog>
